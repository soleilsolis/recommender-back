import{r as c,u as g,W as w,a as s,j as e,c as v}from"./app.d568e0c3.js";import{A as y}from"./ActionMessage.3d473eec.js";import{A as x}from"./Modal.e57ab487.js";import{D as n}from"./DialogModal.275d0d46.js";import{I as k}from"./InputError.c9b117fb.js";import{P as d}from"./PrimaryButton.a8a180da.js";import{T as N}from"./TextInput.460848c7.js";import{S}from"./SecondaryButton.9b0964ff.js";import"./transition.73fc6ad7.js";import"./SectionTitle.3414e5ee.js";function A({sessions:i}){const[u,l]=c.exports.useState(!1),m=g(),t=c.exports.useRef(null),r=w({password:""});function h(){l(!0),setTimeout(()=>{var o;return(o=t.current)==null?void 0:o.focus()},250)}function p(){r.delete(m("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>a(),onError:()=>{var o;return(o=t.current)==null?void 0:o.focus()},onFinish:()=>r.reset()})}function a(){l(!1),r.reset()}return s(x,{title:"Browser Sessions",description:"Manage and log out your active sessions on other browsers and devices.",children:[e("div",{className:"max-w-xl text-sm text-gray-600 dark:text-gray-400",children:"If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password."}),i.length>0?e("div",{className:"mt-5 space-y-6",children:i.map((o,f)=>s("div",{className:"flex items-center",children:[e("div",{children:o.agent.is_desktop?e("svg",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-8 h-8 text-gray-500",children:e("path",{d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}):s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-gray-500",children:[e("path",{d:"M0 0h24v24H0z",stroke:"none"}),e("rect",{x:"7",y:"4",width:"10",height:"16",rx:"1"}),e("path",{d:"M11 5h2M12 17v.01"})]})}),s("div",{className:"ml-3",children:[s("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.agent.platform," - ",o.agent.browser]}),e("div",{children:s("div",{className:"text-xs text-gray-500",children:[o.ip_address,",",o.is_current_device?e("span",{className:"text-green-500 font-semibold",children:"This device"}):s("span",{children:["Last active ",o.last_active]})]})})]})]},f))}):null,s("div",{className:"flex items-center mt-5",children:[e(d,{onClick:h,children:"Log Out Other Browser Sessions"}),e(y,{on:r.recentlySuccessful,className:"ml-3",children:"Done."})]}),s(n,{isOpen:u,onClose:a,children:[s(n.Content,{title:"Log Out Other Browser Sessions",children:["Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices.",s("div",{className:"mt-4",children:[e(N,{type:"password",className:"mt-1 block w-3/4",placeholder:"Password",ref:t,value:r.data.password,onChange:o=>r.setData("password",o.currentTarget.value)}),e(k,{message:r.errors.password,className:"mt-2"})]})]}),s(n.Footer,{children:[e(S,{onClick:a,children:"Cancel"}),e(d,{onClick:p,className:v("ml-2",{"opacity-25":r.processing}),disabled:r.processing,children:"Log Out Other Browser Sessions"})]})]})]})}export{A as default};
