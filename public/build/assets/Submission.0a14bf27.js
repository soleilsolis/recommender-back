import{u as k,W as g,j as e,a as o,e as a,d,F as u}from"./app.ca8b3da1.js";import{u as T}from"./useTypedPage.76c0cfbb.js";import{A as x}from"./AppLayout.a553c5fb.js";import{R as B,C as R,e as S,P as j,f as _,i as O,c as W,d as q}from"./index.fc25a7f7.js";import{H as L}from"./HomeIcon.3c4cb0a6.js";import"./transition.8a37a508.js";import"./moment.9709ab41.js";R.register(S,j,_,O,W,q);function D({exam:l,score:i,total:s,radarMap:t,user:n,instanceAnswers:m}){const h=k();T();const p=g({recommendation:"",user_id:n.id,exam_id:l.id}),y=g({instanceAnswers:m}),v=()=>{p.post(h("instance.recommendation.store"),{errorBag:"submitRecommendation",preserveScroll:!0})},b=()=>{y.post(h("instanceAnswers.correct"),{errorBag:"saveWrittenAnswers",preserveScroll:!0})},C={labels:Object.keys(t).map(r=>r),datasets:[{label:"Categories",data:Object.values(t).map(r=>r.correct/r.total*100),backgroundColor:"rgba(0, 255, 0, 0.2)",borderColor:"#00B200",borderWidth:1}]},N={responsive:!0,scales:{r:{angleLines:{display:!1},suggestedMin:0,suggestedMax:100}}};return e(x,{title:`${l.name}`,children:e("div",{className:"py-12",children:o("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[o(a.Breadcrumbs,{children:[e(d,{href:"/dashboard",className:"opacity-60",children:e(L,{className:"h-4 w-4"})}),e(d,{href:"/exams",className:"opacity-60",children:e("span",{children:"Exams"})}),e(d,{href:`/exam/${l.id}`,className:"opacity-60",children:e("span",{children:l.name})})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-0 gap-y-5 md:gap-4 mt-6",children:o("div",{children:[o(a.Typography,{variant:"h2",color:"blue-gray",children:[n.name,"'s ",l.name]}),o(a.Typography,{variant:"h6",color:"blue-gray",className:"my-2 flex items-center gap-2",children:[e("img",{className:"h-10 w-10 rounded-full object-cover",src:l.team.owner.profile_photo_url,alt:l.team.owner.name}),l.team.owner.name," - ",l.team.name]})]})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 md:gap-4 gap-y-2",children:e(a.Card,{className:" h-max my-5",children:e(a.CardBody,{className:"h-max text-center",children:o(a.Typography,{variant:"h3",color:i/s*100<50?"red":"green",children:["Score: ",i," / ",s]})})})}),e(a.Typography,{variant:"h3",className:"my-5 ",children:"Stats"}),e(a.Card,{children:o(a.CardBody,{children:[e(a.Typography,{variant:"h4",color:"black",className:"mb-6",children:"By Category"}),o("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-4 gap-x-0 gap-y-6",children:[e("div",{children:e("div",{children:Object.values(t).map((r,c)=>e(u,{children:o(a.Typography,{variant:"h5",className:"mb-2",color:r.correct/r.total*100<50?"red":"black",children:[Object.keys(t)[c]," ",": ",r.correct," ","/",r.total]})}))})}),e("div",{children:e(B,{data:C,options:N})})]})]})}),e(a.Card,{className:"my-5",children:o(a.CardBody,{children:[m.map((r,c)=>r.question.type==="Written"&&o(u,{children:[o(a.Typography,{variant:"h4",color:"black",children:["Question ",c+1]}),e(a.Typography,{variant:"lead",color:"black",children:r.question.value}),o(a.Typography,{variant:"lead",color:"black",children:["Answer : ",r.value]}),e(a.Radio,{label:"Correct",name:`question${c+1}`,defaultChecked:r.correct,onChange:f=>{r.correct=1,console.log(r.correct)}}),e(a.Radio,{label:"Incorrect",name:`question${c+1}`,defaultChecked:r.correct===0,onChange:f=>{r.correct=0,console.log(r.correct)}})]})),e(a.Button,{className:"block mt-5",onClick:b,children:"Save"})]})}),e(a.Card,{className:"my-5",children:o(a.CardBody,{children:[e(a.Typography,{variant:"h4",color:"black",className:"mb-6",children:"Recommendations"}),e("div",{className:"my-5",children:e(a.Textarea,{label:"Recommendations",onChange:r=>p.data.recommendation=r.currentTarget.value})}),e(a.Button,{onClick:v,children:"Save"})]})})]})})})}export{D as default};
