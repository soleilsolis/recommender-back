import{u as g,W as m,r as h,a as t,F as y,j as e,c as f,e as r}from"./app.ca8b3da1.js";import{u as v}from"./useTypedPage.76c0cfbb.js";import{A as C}from"./ActionMessage.c0325e4c.js";import{F as N}from"./FormSection.d69ed64c.js";import{I as F}from"./InputError.1b799b4f.js";import{I as D}from"./InputLabel.85cfa867.js";import{P as S}from"./PrimaryButton.bc50d662.js";import"./transition.8a37a508.js";import"./SectionTitle.9323f646.js";function w({exam:i}){const c=g();v();const a=m({exam_id:i.id,name:""}),s=m({id:null});function p(){s.delete(c("category.delete"),{errorBag:"deleteCategory",preserveScroll:!0}),d(!n)}function u(){a.post(c("category.store"),{errorBag:"addCategory",preserveScroll:!0}),a.data.name=null}const[n,d]=h.exports.useState(!1),l=(o=null)=>{s.setData("id",o),d(!n)};return t(N,{onSubmit:u,title:"Categories",description:"Create Categories",renderActions:()=>t(y,{children:[e(C,{on:a.recentlySuccessful,className:"mr-3",children:"Saved."}),e(S,{className:f({"opacity-25":a.processing}),disabled:a.processing,children:"Save"})]}),children:[t("div",{className:"col-span-6 sm:col-span-4",children:[i.categories.map(o=>t("div",{className:"flex items-center gap-2",children:[e(r.Typography,{variant:"lead",children:o.name}),e(r.Typography,{variant:"small",color:"red",className:"cursor-pointer",onClick:x=>{s.data.id=o.id,l(o.id),console.log(s.data.id)},children:"Delete"})]})),t("div",{className:"mt-2",children:[e(D,{htmlFor:"name",value:"Name"}),e(r.Input,{id:"name",type:"text",value:a.data.name,onChange:o=>a.setData("name",o.currentTarget.value),autoFocus:!0,crossOrigin:void 0}),e(F,{message:a.errors.name,className:"mt-2"})]})]}),t(r.Dialog,{handler:l,open:n,children:[e(r.DialogHeader,{children:"Delete Category"}),e(r.DialogBody,{children:t(r.Typography,{variant:"h3",color:"red",children:["Are you sure? ",e("br",{}),e("br",{}),"It will delete all the questions in this category as well!"]})}),t(r.DialogFooter,{children:[e(r.Button,{variant:"text",color:"black",onClick:l,className:"mr-1",children:e("span",{children:"Cancel"})}),e(r.Button,{variant:"gradient",color:"red",onClick:p,children:e("span",{children:"Confirm"})})]})]})]})}export{w as default};
