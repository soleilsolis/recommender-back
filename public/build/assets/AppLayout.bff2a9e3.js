import{j as e,r as y,c as u,a as s,d as f,u as Z,W as H,b as ee,F as v,e as p,O as $}from"./app.09df522d.js";import{u as G}from"./useTypedPage.d24d76f4.js";import{t as re}from"./transition.d75dfa77.js";import{h as ae}from"./moment.9709ab41.js";function te(l){return e("img",{className:"w-11 h-11",src:"/storage/logo.png"})}function se(){var i,m;const[l,d]=y.exports.useState(!0),{props:o}=G(),r=((i=o.jetstream.flash)==null?void 0:i.bannerStyle)||"success",a=((m=o.jetstream.flash)==null?void 0:m.banner)||"";return e("div",{children:l&&a?e("div",{className:u({"bg-indigo-500":r=="success","bg-red-700":r=="danger"}),children:e("div",{className:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8",children:s("div",{className:"flex items-center justify-between flex-wrap",children:[s("div",{className:"w-0 flex-1 flex items-center min-w-0",children:[e("span",{className:u("flex p-2 rounded-lg",{"bg-indigo-600":r=="success","bg-red-600":r=="danger"}),children:(()=>{switch(r){case"success":return e("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"danger":return e("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});default:return null}})()}),e("p",{className:"ml-3 font-medium text-sm text-white truncate",children:a})]}),e("div",{className:"flex-shrink-0 sm:ml-3",children:e("button",{type:"button",className:u("-mr-1 flex p-2 rounded-md focus:outline-none sm:-mr-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":r=="success","hover:bg-red-600 focus:bg-red-600":r=="danger"}),"aria-label":"Dismiss",onClick:g=>{g.preventDefault(),d(!1)},children:e("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})})]})})}):null})}function q({align:l="right",width:d="48",contentClasses:o="py-1 bg-white dark:bg-gray-700",renderTrigger:r,children:a}){const[i,m]=y.exports.useState(!1),g={48:"w-48"}[d.toString()],b=(()=>l==="left"?"origin-top-left left-0":l==="right"?"origin-top-right right-0":"origin-top")();return s("div",{className:"relative",children:[e("div",{onClick:()=>m(!i),children:r()}),e("div",{className:"fixed inset-0 z-40",style:{display:i?"block":"none"},onClick:()=>m(!1)}),e(re,{show:i,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",className:"relative z-50",children:e("div",{className:u("absolute mt-2 rounded-md shadow-lg",g,b),onClick:()=>m(!1),children:e("div",{className:u("rounded-md ring-1 ring-black ring-opacity-5",o),children:a})})})]})}function x({as:l,href:d,children:o}){return e("div",{children:(()=>{switch(l){case"button":return e("button",{type:"submit",className:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-800 transition duration-150 ease-in-out",children:o});case"a":return e("a",{href:d,className:"block px-4 py-2 text-sm leading-5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-800 transition duration-150 ease-in-out",children:o});default:return e(f,{href:d||"",className:"block px-4 py-2 text-sm leading-5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-800 transition duration-150 ease-in-out",children:o})}})()})}function ne({active:l,href:d,children:o}){return e(f,{href:d,className:l?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 dark:border-indigo-600 text-sm font-medium leading-5 text-gray-900 dark:text-gray-100 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-700 focus:outline-none focus:text-gray-700 dark:focus:text-gray-300 focus:border-gray-300 dark:focus:border-gray-700 transition duration-150 ease-in-out",children:o})}function h({active:l,href:d,children:o,...r}){const a=l?"block w-full pl-3 pr-4 py-2 border-l-4 border-indigo-400 dark:border-indigo-600 text-left text-base font-medium text-indigo-700 dark:text-indigo-300 bg-indigo-50 dark:bg-indigo-900/50 focus:outline-none focus:text-indigo-800 dark:focus:text-indigo-200 focus:bg-indigo-100 dark:focus:bg-indigo-900 focus:border-indigo-700 dark:focus:border-indigo-300 transition duration-150 ease-in-out":"block w-full pl-3 pr-4 py-2 border-l-4 border-transparent text-left text-base font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600 focus:outline-none focus:text-gray-800 dark:focus:text-gray-200 focus:bg-gray-50 dark:focus:bg-gray-700 focus:border-gray-300 dark:focus:border-gray-600 transition duration-150 ease-in-out";return e("div",{children:"as"in r&&r.as==="button"?e("button",{className:u("w-full text-left",a),children:o}):e(f,{href:d||"",className:a,children:o})})}function ce({title:l,renderHeader:d,children:o}){var w,N,L,C,j,_,T,M,S,D,B,P,A,F,z,W,O,I,R,E,Y;const r=G(),a=Z(),[i,m]=y.exports.useState(!1);function g(t,n){t.preventDefault(),$.put(a("current-team.update"),{team_id:n.id},{preserveState:!1})}function b(t){t.preventDefault(),$.post(a("logout"))}const J=[{name:"dashboard",label:"Dashboard",type:["admin"]},{name:"dashboard",label:"Dashboard",type:["student"]},{name:"exams.index",label:"Exams",type:["admin"]},{name:"exams.index.student",label:"Exams",type:["student"]}],[K,k]=y.exports.useState("");if(((w=r.props.auth.user)==null?void 0:w.current_instance)!=null&&((N=r.props.auth.user)==null?void 0:N.current_instance.exam.limit)!=null&&((L=r.props.auth.user)==null?void 0:L.current_instance.exam.limit)>0){const t=H({current_instance_id:(C=r.props.auth.user)==null?void 0:C.current_instance.id});var Q=ae((j=r.props.auth.user)==null?void 0:j.current_instance.created_at).add((_=r.props.auth.user)==null?void 0:_.current_instance.exam.limit,"m").toDate(),U=setInterval(function(){var n=new Date().getTime(),c=Q-n,V=Math.floor(c%(1e3*60*60)/(1e3*60)),X=Math.floor(c%(1e3*60)/1e3);k(V+"m "+X+"s "),c<0&&(clearInterval(U),k("Expired"),t.post(a("exam.finish")))},1e3)}return s("div",{children:[e(ee,{title:l}),e(se,{}),s("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 relative",children:[s("nav",{className:"bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700",children:[e("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s("div",{className:"flex justify-between h-16",children:[s("div",{className:"flex",children:[e("div",{className:"flex-shrink-0 flex items-center",children:e(f,{href:a("dashboard"),children:e(te,{className:"block h-9 w-auto"})})}),e("div",{className:"hidden space-x-8 sm:-my-px sm:ml-10 sm:flex",children:J.filter(t=>t.type.find(n=>n==r.props.auth.user.type)!==void 0).map(({name:t,label:n})=>e(ne,{href:a(t),active:a().current(t),children:n}))})]}),s("div",{className:"hidden sm:flex sm:items-center sm:ml-6",children:[e("div",{className:"ml-3 relative",children:r.props.jetstream.hasTeamFeatures?e(q,{align:"right",width:"60",renderTrigger:()=>{var t,n;return e("span",{className:"inline-flex rounded-md",children:s("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none focus:bg-gray-50 dark:focus:bg-gray-700 active:bg-gray-50 dark:active:bg-gray-700 transition ease-in-out duration-150",children:[(n=(t=r.props.auth.user)==null?void 0:t.current_team)==null?void 0:n.name,e("svg",{className:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})},children:e("div",{className:"w-60",children:r.props.jetstream.hasTeamFeatures?s(v,{children:[((T=r.props.auth.user)==null?void 0:T.type)==="admin"&&s(v,{children:[e("div",{className:"block px-4 py-2 text-xs text-gray-400",children:"Manage Classrooms"}),e(x,{href:a("teams.show",[(M=r.props.auth.user)==null?void 0:M.current_team]),children:"Classroom Settings"}),r.props.jetstream.canCreateTeams?e(x,{href:a("teams.create"),children:"Create New Classroom"}):null,e("div",{className:"border-t border-gray-200 dark:border-gray-600"})]}),e("div",{className:"block px-4 py-2 text-xs text-gray-400",children:"Switch Classrooms"}),(D=(S=r.props.auth.user)==null?void 0:S.all_teams)==null?void 0:D.map(t=>{var n;return e("form",{onSubmit:c=>g(c,t),children:e(x,{as:"button",children:s("div",{className:"flex items-center",children:[t.id==((n=r.props.auth.user)==null?void 0:n.current_team_id)&&e("svg",{className:"mr-2 h-5 w-5 text-green-400",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{children:t.name})]})})},t.id)})]}):null})}):null}),e("div",{className:"ml-3 relative",children:s(q,{align:"right",width:"48",renderTrigger:()=>{var t,n,c;return r.props.jetstream.managesProfilePhotos?e("button",{className:"flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300 transition",children:e("img",{className:"h-8 w-8 rounded-full object-cover",src:(t=r.props.auth.user)==null?void 0:t.profile_photo_url,alt:(n=r.props.auth.user)==null?void 0:n.name})}):e("span",{className:"inline-flex rounded-md",children:s("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none focus:bg-gray-50 dark:focus:bg-gray-700 active:bg-gray-50 dark:active:bg-gray-700 transition ease-in-out duration-150",children:[(c=r.props.auth.user)==null?void 0:c.name,e("svg",{className:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})})},children:[e("div",{className:"block px-4 py-2 text-xs text-gray-400",children:"Manage Account"}),e(x,{href:a("profile.show"),children:"Profile"}),r.props.jetstream.hasApiFeatures?e(x,{href:a("api-tokens.index"),children:"API Tokens"}):null,e("div",{className:"border-t border-gray-200 dark:border-gray-600"}),e("form",{onSubmit:b,children:e(x,{as:"button",children:"Log Out"})})]})})]}),e("div",{className:"-mr-2 flex items-center sm:hidden",children:e("button",{onClick:()=>m(!i),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-900 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-900 focus:text-gray-500 dark:focus:text-gray-400 transition duration-150 ease-in-out",children:s("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:[e("path",{className:u({hidden:i,"inline-flex":!i}),strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),e("path",{className:u({hidden:!i,"inline-flex":i}),strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})]})})})]})}),s("div",{className:u("sm:hidden",{block:i,hidden:!i}),children:[e("div",{className:"pt-2 pb-3 space-y-1",children:e(h,{href:a("dashboard"),active:a().current("dashboard"),children:"Dashboard"})}),s("div",{className:"pt-4 pb-1 border-t border-gray-200 dark:border-gray-600",children:[s("div",{className:"flex items-center px-4",children:[r.props.jetstream.managesProfilePhotos?e("div",{className:"flex-shrink-0 mr-3",children:e("img",{className:"h-10 w-10 rounded-full object-cover",src:(B=r.props.auth.user)==null?void 0:B.profile_photo_url,alt:(P=r.props.auth.user)==null?void 0:P.name})}):null,s("div",{children:[e("div",{className:"font-medium text-base text-gray-800 dark:text-gray-200",children:(A=r.props.auth.user)==null?void 0:A.name}),e("div",{className:"font-medium text-sm text-gray-500",children:(F=r.props.auth.user)==null?void 0:F.email})]})]}),s("div",{className:"mt-3 space-y-1",children:[e(h,{href:a("profile.show"),active:a().current("profile.show"),children:"Profile"}),r.props.jetstream.hasApiFeatures?e(h,{href:a("api-tokens.index"),active:a().current("api-tokens.index"),children:"API Tokens"}):null,e("form",{method:"POST",onSubmit:b,children:e(h,{as:"button",children:"Log Out"})}),r.props.jetstream.hasTeamFeatures?s(v,{children:[e("div",{className:"border-t border-gray-200 dark:border-gray-600"}),e("div",{className:"block px-4 py-2 text-xs text-gray-400",children:"Manage Classrooms"}),e(h,{href:a("teams.show",[(z=r.props.auth.user)==null?void 0:z.current_team]),active:a().current("teams.show"),children:"Classroom Settings"}),r.props.jetstream.canCreateTeams?e(h,{href:a("teams.create"),active:a().current("teams.create"),children:"Create New Classroom"}):null,e("div",{className:"border-t border-gray-200 dark:border-gray-600"}),e("div",{className:"block px-4 py-2 text-xs text-gray-400",children:"Switch Classrooms"}),(O=(W=r.props.auth.user)==null?void 0:W.all_teams)==null?void 0:O.map(t=>{var n;return e("form",{onSubmit:c=>g(c,t),children:e(h,{as:"button",children:s("div",{className:"flex items-center",children:[t.id==((n=r.props.auth.user)==null?void 0:n.current_team_id)&&e("svg",{className:"mr-2 h-5 w-5 text-green-400",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{children:t.name})]})})},t.id)})]}):null]})]})]})]}),d?e("header",{children:e("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:d()})}):null,e("main",{className:"md:mx-0 mx-4 relative min-h-full",children:o}),((I=r.props.auth.user)==null?void 0:I.current_instance)&&e("div",{className:"fixed top-5 right-5",children:e(f,{href:a("exam.current",{page:1}),children:e(p.Card,{className:" max-w-[300px] w-[300px]",children:s(p.CardBody,{className:"p-4 flex items-center gap-4",children:[e(p.Spinner,{}),s("div",{children:[e(p.Typography,{variant:"small",className:"flex items-center gap-3",children:"You are currently taking:"}),e(p.Typography,{variant:"h6",children:(R=r.props.auth.user)==null?void 0:R.current_instance.exam.name}),((E=r.props.auth.user)==null?void 0:E.current_instance.exam.limit)!==null&&((Y=r.props.auth.user)==null?void 0:Y.current_instance.exam.limit)>0&&s(p.Typography,{variant:"h5",children:[K," Left"]})]})]})})})})]})]})}export{ce as A,ne as N};
