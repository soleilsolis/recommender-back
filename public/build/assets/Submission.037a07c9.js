import{u as N,W as f,j as e,a as n,e as a,d as t,F as C}from"./app.b4d71fd2.js";import{u as x}from"./useTypedPage.d1464ce4.js";import{A as T}from"./AppLayout.10243fd3.js";import{R as B,C as k,a as w,P as R,L as j,i as S,p as _,b as L}from"./index.7923e499.js";import{H as P}from"./HomeIcon.b318d5c9.js";import{P as E}from"./PlusIcon.f286000f.js";import"./transition.ba6d3380.js";k.register(w,R,j,S,_,L);function z({exam:r,score:d,total:m,radarMap:c,user:h}){const p=N();x();const g=f({recommendation:"",user_id:h.id,exam_id:r.id}),y=()=>{g.post(p("instance.recommendation.store"),{errorBag:"submitRecommendation",preserveScroll:!0})},v={labels:r.categories.map(s=>s.name),datasets:[{label:"Categories",data:Object.values(c).map(s=>{const l=s[1]!=null?s[1].length:0,i=s[0]!=null?s[0].length:0,o=l+i;return l/o*100}),backgroundColor:"rgba(0, 255, 0, 0.2)",borderColor:"#00B200",borderWidth:1}]},b={responsive:!0,scales:{r:{angleLines:{display:!1},suggestedMin:0,suggestedMax:100}}};return e(T,{title:`${r.name}`,children:e("div",{className:"py-12",children:n("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[n(a.Breadcrumbs,{children:[e(t,{href:"/dashboard",className:"opacity-60",children:e(P,{className:"h-4 w-4"})}),e(t,{href:"/exams",className:"opacity-60",children:e("span",{children:"Exams"})}),e(t,{href:`/exam/${r.id}`,className:"opacity-60",children:e("span",{children:r.id})})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-0 gap-y-5 md:gap-4 mt-6",children:n("div",{children:[n(a.Typography,{variant:"h2",color:"blue-gray",children:[h.name,"'s ",r.name]}),n(a.Typography,{variant:"h6",color:"blue-gray",className:"my-2 flex items-center gap-2",children:[e("img",{className:"h-10 w-10 rounded-full object-cover",src:r.team.owner.profile_photo_url,alt:r.team.owner.name}),r.team.owner.name," - ",r.team.name]})]})}),r.attempts-r.instances.length!=0&&e(t,{href:p("exam.take",{id:r.id}),children:n(a.Button,{color:"green",size:"lg",className:"flex items-center gap-3 my-5",children:[e(E,{className:"h-5 w-5"})," Take Exam"]})}),n("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 md:gap-4 gap-y-2",children:[e(a.Card,{className:" h-max my-5",children:e(a.CardBody,{className:"h-max text-center",children:n(a.Typography,{variant:"h3",color:d/m*100<50?"red":"green",children:["Score: ",d," / ",m]})})}),e(a.Card,{className:" h-max my-5",children:e(a.CardBody,{className:"h-max text-center",children:n(a.Typography,{variant:"h3",color:"black",children:["Attempts: ",r.instances.length," /"," ",r.attempts]})})})]}),e(a.Typography,{variant:"h3",className:"my-5 ",children:"Stats"}),e(a.Card,{children:n(a.CardBody,{children:[e(a.Typography,{variant:"h4",color:"black",className:"mb-6",children:"By Category"}),n("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-4 gap-x-0 gap-y-6",children:[e("div",{children:e("div",{children:Object.values(c).map((s,l)=>{const i=s[1]!=null?s[1].length:0,o=s[0]!=null?s[0].length:0,u=i+o;return e(C,{children:n(a.Typography,{variant:"h5",className:"mb-2",color:i/u*100<50?"red":"black",children:[Object.keys(c)[l]," ",": ",i," /",u]})})})})}),e("div",{children:e(B,{data:v,options:b})})]})]})}),e(a.Card,{className:"my-5",children:n(a.CardBody,{children:[e(a.Typography,{variant:"h4",color:"black",className:"mb-6",children:"Recommendations"}),e("div",{className:"my-5",children:e(a.Textarea,{label:"Recommendations",onChange:s=>g.data.recommendation=s.currentTarget.value})}),e(a.Button,{onClick:y,children:"Save"})]})})]})})})}export{z as default};
