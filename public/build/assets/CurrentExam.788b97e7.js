import{u as f,r as p,W as v,a,j as e,h as r,d as o,F as m}from"./app.3630e11d.js";import{u as b}from"./useTypedPage.f7096180.js";import{A as x}from"./AppLayout.1c5b2527.js";import{H as N}from"./HomeIcon.6bd0b70c.js";import"./transition.fe8ed371.js";function F({exam:n,question:l,instance:_,instanceAnswers:t}){const c=f();b();const[u,w]=p.exports.useState(),[h,y]=p.exports.useState(!1),i=()=>y(!h),s=v({answer_id:u,instance_answer_id:t[0]!=null?t[0].id:null}),g=()=>{s.post(c("exam.finish"),{errorBag:"finishExam",preserveScroll:!0})};return a(x,{title:`${n.name}`,children:[e("div",{className:"py-12",children:a("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[a(r.Breadcrumbs,{children:[e(o,{href:"/dashboard",className:"opacity-60",children:e(N,{className:"h-4 w-4"})}),e(o,{href:"/exams/student",className:"opacity-60",children:e("span",{children:"Exams"})}),e(o,{href:`/exam/student/${n.id}`,className:"opacity-60",children:e("span",{children:n.id})}),e("span",{children:"Current"})]}),a(r.Typography,{variant:"h2",color:"blue-gray",children:[n.name," - (",n.attempts," Attempts)"," "]}),a(r.Typography,{variant:"h6",color:"blue-gray",className:"my-2 flex items-center gap-2",children:[e("img",{className:"h-10 w-10 rounded-full object-cover",src:n.team.owner.profile_photo_url,alt:n.team.owner.name}),n.team.owner.name," - ",n.team.name]}),e("br",{}),e(r.Button,{color:"green",className:"flex items-center gap-3",onClick:i,children:"Finish Exam"}),e("br",{}),a(r.Card,{children:[a(r.CardBody,{children:[a("div",{className:"flex items-start justify-between mb-5",children:[a(r.Typography,{variant:"h4",color:"black",children:["Question ",l.current_page]}),t[0]!=null?e(r.Typography,{variant:"h4",color:"green",className:"font-bold",children:"Answered"}):e(r.Typography,{variant:"h4",color:"gray",className:"font-bold",children:"Unanswered"})]}),e(r.Typography,{variant:"h3",color:"black",className:"mb-5",children:l.data[0].value}),e(r.Card,{shadow:!1,className:"border-2 border-gray-500 p-2",children:e(r.CardBody,{children:l.data[0].answers.map(d=>e(m,{children:l.data[0].type==="Multiple Choice"&&a(m,{children:[e(r.Radio,{crossOrigin:void 0,name:"instanceAnswer",defaultChecked:t[0]!=null?t[0].answer_id==d.id:!1,label:e(r.Typography,{variant:"lead",className:"font-medium",children:d.value}),className:"block",onChange:()=>{s.data.answer_id=d.id,s.post(c("instanceAnswer.store"),{errorBag:"submitAnswer",preserveScroll:!0})}}),e("br",{})]})}))})})]}),a(r.CardFooter,{className:"flex items-center justify-between border-t border-blue-gray-50 p-4",children:[l.prev_page_url?e(o,{href:l.prev_page_url,children:e(r.Button,{variant:"outlined",size:"sm",children:"Previous"})}):e("span",{}),l.next_page_url&&e(o,{href:l.next_page_url,children:e(r.Button,{variant:"outlined",size:"sm",children:"Next"})})]})]})]})}),a(r.Dialog,{open:h,handler:i,children:[e(r.DialogHeader,{children:"Finish Exam"}),e(r.DialogBody,{children:e(r.Typography,{variant:"h3",color:"red",children:"Are you sure? You cannot retake this exam if you exhausted all attempts!"})}),a(r.DialogFooter,{children:[e(r.Button,{variant:"text",onClick:i,className:"mr-1",children:e("span",{onClick:i,children:"Cancel"})}),e(r.Button,{variant:"gradient",color:"red",onClick:g,children:e("span",{children:"Confirm"})})]})]})]})}export{F as default};
